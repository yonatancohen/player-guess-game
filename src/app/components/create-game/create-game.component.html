<div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-3xl mx-auto">
    <div class="bg-white shadow sm:rounded-lg">
      <div class="px-4 py-5 sm:p-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">צור משחק חדש</h2>
        {{gameForm.value|json}}
        <form (ngSubmit)="onSubmit()" class="space-y-6" [formGroup]="gameForm">
          <div class="flex gap-5 lg:gap-8">
            <div>
              <label class="flex justify-between items-center text-sm font-medium text-gray-700 mb-2">
                בחר ליגות
                <span class="text-red-500 text-xs" *ngIf="getFormControlError('leagues')">
                  {{getFormControlError('leagues')}}
                </span>
              </label>
              <div class="space-y-2 grid">
                <div *ngFor="let league of leagues" class="flex items-center gap-3 cursor-pointer"
                  (click)="$event.stopPropagation(); toggleLeague(league)">
                  <input type="checkbox" [checked]="isSelected(league)"
                    class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer">
                  <label [for]="league.id" class="ml-2 block text-sm text-gray-900 cursor-pointer">
                    {{league.name}}
                  </label>
                </div>
              </div>
            </div>
            <div class="grow flex flex-col gap-5">
              <div>
                <label class="flex justify-between items-center text-sm font-medium text-gray-700 mb-2">
                  בחר שחקן
                  <span class="text-red-500 text-xs" *ngIf="getFormControlError('player')">
                    {{getFormControlError('player')}}
                  </span>
                </label>
                <app-autocomplete [players]="players" (selected)="onPlayerSelected($event)"
                  [gameCompleted]="!selectionMap.size" [showSelectedText]="true"></app-autocomplete>
              </div>
              <div>
                <label class="flex justify-between items-center text-xs font-medium text-gray-700 mb-2">
                  זמן העלאת משחק
                  <span class="text-red-500 text-sm" *ngIf="getFormControlError('gameDate')">
                    {{getFormControlError('gameDate') || getFormControlError('gameTime')}}
                  </span>
                </label>
                <div class="flex gap-3">
                  <div class="flex-1">
                    <input type="date" formControlName="gameDate"
                      class="appearance-none resize-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm">
                  </div>
                  <div class="flex-1">
                    <input type="time" formControlName="gameTime"
                      class="appearance-none resize-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm">
                  </div>
                </div>
              </div>
              <div>
                <label class="flex justify-between items-center text-xs font-medium text-gray-700 mb-2">
                  רמז למשחק
                  <span class="text-red-500 text-sm" *ngIf="getFormControlError('hint')">
                    {{getFormControlError('hint')}}
                  </span>
                </label>
                <textarea formControlName="hint"
                  class="appearance-none resize-none h-25 rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"></textarea>
              </div>
            </div>
          </div>

          <div class="flex justify-end mt-18">
            <button type="submit" [disabled]="submitting"
              class="flex items-center gap-2 bg-blue-800 px-6 py-2 rounded-xl text-white font-bold hover:bg-blue-600 cursor-pointer text-lg disabled:opacity-75">
              צור משחק
              <svg class="h-5 w-5 animate-spin text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
                viewBox="0 0 24 24" width="18" height="18" *ngIf="submitting">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="white" stroke-width="4"></circle>
                <path class="opacity-75" fill="white" d="M4 12a8 8 0 018-8v8H4z"></path>
              </svg>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>