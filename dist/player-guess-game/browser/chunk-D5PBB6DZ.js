import{b as B}from"./chunk-5XF2VKTD.js";import{D as W,F as p,l as A,m as T,q as P,s as O,w as V}from"./chunk-J5QQIEZR.js";import{Db as e,Dc as F,Eb as t,Ec as M,Fb as _,Hc as N,Jb as S,Jc as I,Lb as d,Mb as w,Vb as i,Xb as s,Yb as f,Zb as x,_a as m,_b as y,ac as C,eb as g,ec as k,gc as G,jb as D,oa as E,ob as h,pa as b,qa as v,vb as c}from"./chunk-UX2FJVH3.js";var R=r=>["/",r,"edit-player"];function j(r,o){if(r&1){let a=S();e(0,"tr",26),d("click",function(){let u=E(a).$implicit,l=w();return b(l.editGame(u.id))}),e(1,"td",27),i(2),k(3,"date"),t(),e(4,"td",27),i(5),t(),e(6,"td",28),i(7),t(),e(8,"td",29)(9,"button",30),i(10,"\u05E2\u05E8\u05D5\u05DA"),t()()()}if(r&2){let a=o.$implicit;m(2),s(" ",G(3,3,a.activate_at,"dd/MM/yyyy")," "),m(3),s(" ",a.player_name," "),m(2),s(" ",a.hint," ")}}function z(r,o){r&1&&(e(0,"div",31),v(),e(1,"svg",32),_(2,"circle",33)(3,"path",34),t()())}function H(r,o){r&1&&(e(0,"div",35),i(1," \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0\u05D5 \u05DE\u05E9\u05D7\u05E7\u05D9\u05DD "),t())}var L=class r{constructor(o,a){this.adminService=o;this.router=a}searchForm={date:"",playerName:""};games=[];searching=!1;environment=p;ngOnInit(){}searchGames(){!this.searchForm.date&&this.searchForm.playerName?.length<2||(this.searching=!0,this.adminService.searchGame({game_date:this.searchForm.date,player_name:this.searchForm.playerName}).subscribe({next:o=>{this.games=o,this.searching=!1},error:()=>{this.searching=!1}}))}editGame(o){this.router.navigate([`/${p.adminPath}game`,o])}createNewGame(){this.router.navigate([`/${p.adminPath}game`])}static \u0275fac=function(a){return new(a||r)(g(B),g(A))};static \u0275cmp=D({type:r,selectors:[["app-game-search"]],decls:41,vars:8,consts:[[1,"min-h-screen","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-3xl","mx-auto"],[1,"text-blue-600","hover:text-blue-800","transition-colors","duration-200","font-medium","block","mb-3","underline",3,"routerLink"],[1,"bg-white","shadow","sm:rounded-lg"],[1,"px-4","py-5","sm:p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"bg-blue-800","px-4","py-2","rounded-lg","text-white","font-bold","hover:bg-blue-600","cursor-pointer",3,"click"],[1,"flex","gap-4","items-end"],[1,"flex-grow"],["for","date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","playerName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","playerName",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel"],["type","button",1,"bg-blue-800","px-4","py-1.75","rounded-lg","text-white","font-bold","hover:bg-blue-600","cursor-pointer",3,"click"],[1,"mt-8"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","mt-4 text-center",4,"ngIf"],["class","mt-4 text-center text-gray-500",4,"ngIf"],[1,"hover:bg-gray-50","cursor-pointer",3,"click"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-left","text-sm","font-medium"],[1,"text-blue-600","hover:text-blue-900"],[1,"mt-4","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-blue-600","mx-auto"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mt-4","text-center","text-gray-500"]],template:function(a,n){a&1&&(e(0,"div",0)(1,"div",1)(2,"a",2),i(3,"\u05E2\u05E8\u05D9\u05DB\u05EA \u05E9\u05D7\u05E7\u05E0\u05D9\u05DD"),t(),e(4,"div",3)(5,"div",4)(6,"div",5)(7,"h2",6),i(8,"\u05D7\u05D9\u05E4\u05D5\u05E9 \u05DE\u05E9\u05D7\u05E7\u05D9\u05DD"),t(),e(9,"button",7),d("click",function(){return n.createNewGame()}),i(10," \u05E6\u05D5\u05E8 \u05DE\u05E9\u05D7\u05E7 \u05D7\u05D3\u05E9 "),t()(),e(11,"div",8)(12,"div",9)(13,"label",10),i(14,"\u05EA\u05D0\u05E8\u05D9\u05DA"),t(),e(15,"input",11),y("ngModelChange",function(l){return x(n.searchForm.date,l)||(n.searchForm.date=l),l}),t()(),e(16,"div",9)(17,"label",12),i(18,"\u05E9\u05DD \u05E9\u05D7\u05E7\u05DF"),t(),e(19,"input",13),y("ngModelChange",function(l){return x(n.searchForm.playerName,l)||(n.searchForm.playerName=l),l}),t()(),e(20,"div")(21,"button",14),d("click",function(){return n.searchGames()}),i(22," \u05D7\u05E4\u05E9 "),t()()(),e(23,"div",15)(24,"div",16)(25,"table",17)(26,"thead",18)(27,"tr")(28,"th",19),i(29," \u05EA\u05D0\u05E8\u05D9\u05DA "),t(),e(30,"th",19),i(31," \u05E9\u05D7\u05E7\u05DF "),t(),e(32,"th",19),i(33," \u05E8\u05DE\u05D6 "),t(),e(34,"th",20)(35,"span",21),i(36,"\u05E4\u05E2\u05D5\u05DC\u05D5\u05EA"),t()()()(),e(37,"tbody",22),h(38,j,11,6,"tr",23),t()()(),h(39,z,4,0,"div",24)(40,H,2,0,"div",25),t()()()()()),a&2&&(m(2),c("routerLink",C(6,R,n.environment.adminPath.replace("/",""))),m(13),f("ngModel",n.searchForm.date),m(4),f("ngModel",n.searchForm.playerName),m(19),c("ngForOf",n.games),m(),c("ngIf",n.searching),m(),c("ngIf",!n.searching&&n.games.length===0))},dependencies:[I,F,M,N,W,P,O,V,T],encapsulation:2})};export{L as GameSearchComponent};
