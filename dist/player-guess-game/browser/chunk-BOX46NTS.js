import{a as L}from"./chunk-NCL6GUBF.js";import{b as B}from"./chunk-CXJZMDBI.js";import{A as V,E as P,H as O,l as I,q as b,s as A,u as T,y as W}from"./chunk-GIISJU3V.js";import{$b as g,Fb as e,Gb as t,Gc as M,Hb as x,Hc as N,Lb as S,Lc as G,Nb as c,Nc as k,Ob as w,Xb as i,Zb as s,_b as p,ab as m,ac as h,gb as f,hc as C,jc as F,lb as D,qa as E,qb as y,ra as _,sa as v,xb as d}from"./chunk-WWCT2R5L.js";function j(l,o){if(l&1){let a=S();e(0,"tr",28),c("click",function(){let u=E(a).$implicit,n=w();return _(n.editGame(u.id))}),e(1,"td",29),i(2),t(),e(3,"td",29),i(4),C(5,"date"),t(),e(6,"td",29),i(7),t(),e(8,"td",30),i(9),t(),e(10,"td",31)(11,"button",32),i(12,"\u05E2\u05E8\u05D5\u05DA"),t()()()}if(l&2){let a=o.$implicit;m(2),s(" ",a.game_number," "),m(2),s(" ",F(5,4,a.activate_at,"dd/MM/yyyy")," "),m(3),s(" ",a.player_name," "),m(2),s(" ",a.hint," ")}}function z(l,o){l&1&&(e(0,"div",33),v(),e(1,"svg",34),x(2,"circle",35)(3,"path",36),t()())}function H(l,o){l&1&&(e(0,"div",37),i(1," \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0\u05D5 \u05DE\u05E9\u05D7\u05E7\u05D9\u05DD "),t())}var R=class l{constructor(o,a){this.adminService=o;this.router=a}searchForm={date:"",playerName:"",gameNumber:""};games=[];searching=!1;ngOnInit(){this.searchGames()}clearFilters(){this.searchForm.date="",this.searchForm.playerName="",this.searchForm.gameNumber=""}searchGames(){this.searching=!0,this.adminService.searchGame({game_date:this.searchForm.date?.trim()||"",player_name:this.searchForm.playerName?.trim()||"",game_number:this.searchForm.gameNumber?.toString().trim()||""}).subscribe({next:o=>{this.games=o,this.searching=!1},error:()=>{this.searching=!1}})}editGame(o){this.router.navigate([`/${b.adminPath}game`,o])}createNewGame(){this.router.navigate([`/${b.adminPath}game`])}static \u0275fac=function(a){return new(a||l)(f(B),f(I))};static \u0275cmp=D({type:l,selectors:[["app-game-search"]],decls:45,vars:6,consts:[[1,"min-h-screen","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-3xl","mx-auto"],[1,"bg-white","shadow","sm:rounded-lg"],[1,"px-4","py-5","sm:p-6"],[1,"text-2xl","font-bold","text-gray-900","mb-6"],[1,"flex","gap-4","items-end"],[1,"flex-grow",2,"max-width","125px"],["for","gameNumber",1,"block","text-sm","font-medium","text-gray-700"],["type","number","min","1","id","gameNumber",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"flex-grow"],["for","date",1,"block","text-sm","font-medium","text-gray-700"],["type","date","id","date",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel"],["for","playerName",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","playerName",1,"mt-1","block","w-full","border","border-gray-300","rounded-md","shadow-sm","py-2","px-3","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm",3,"ngModelChange","ngModel"],[1,"flex","gap-1"],["type","button",1,"bg-blue-800","px-4","py-1.75","rounded-lg","text-white","font-bold","hover:bg-blue-600","cursor-pointer",3,"click"],["type","button",1,"bg-gray-800","px-4","py-1.75","rounded-lg","text-white","font-bold","hover:bg-gray-600","cursor-pointer",3,"click"],[1,"mt-8"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-right","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["scope","col",1,"relative","px-6","py-3"],[1,"sr-only"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","mt-4 text-center",4,"ngIf"],["class","mt-4 text-center text-gray-500",4,"ngIf"],[1,"hover:bg-gray-50","cursor-pointer",3,"click"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-left","text-sm","font-medium"],[1,"text-blue-600","hover:text-blue-900"],[1,"mt-4","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-blue-600","mx-auto"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mt-4","text-center","text-gray-500"]],template:function(a,r){a&1&&(e(0,"div",0)(1,"div",1),x(2,"app-admin-menu"),e(3,"div",2)(4,"div",3)(5,"h2",4),i(6,"\u05E8\u05E9\u05D9\u05DE\u05EA \u05DE\u05E9\u05D7\u05E7\u05D9\u05DD"),t(),e(7,"div",5)(8,"div",6)(9,"label",7),i(10,"\u05DE\u05E1\u05E4\u05E8 \u05DE\u05E9\u05D7\u05E7"),t(),e(11,"input",8),h("ngModelChange",function(n){return g(r.searchForm.gameNumber,n)||(r.searchForm.gameNumber=n),n}),t()(),e(12,"div",9)(13,"label",10),i(14,"\u05EA\u05D0\u05E8\u05D9\u05DA"),t(),e(15,"input",11),h("ngModelChange",function(n){return g(r.searchForm.date,n)||(r.searchForm.date=n),n}),t()(),e(16,"div",9)(17,"label",12),i(18,"\u05E9\u05DD \u05E9\u05D7\u05E7\u05DF"),t(),e(19,"input",13),h("ngModelChange",function(n){return g(r.searchForm.playerName,n)||(r.searchForm.playerName=n),n}),t()(),e(20,"div",14)(21,"button",15),c("click",function(){return r.searchGames()}),i(22," \u05D7\u05E4\u05E9 "),t(),e(23,"button",16),c("click",function(){return r.clearFilters(),r.searchGames()}),i(24," \u05E0\u05E7\u05D4 "),t()()(),e(25,"div",17)(26,"div",18)(27,"table",19)(28,"thead",20)(29,"tr")(30,"th",21),i(31," \u05DE\u05E1\u05E4\u05E8 \u05DE\u05E9\u05D7\u05E7 "),t(),e(32,"th",21),i(33," \u05EA\u05D0\u05E8\u05D9\u05DA "),t(),e(34,"th",21),i(35," \u05E9\u05D7\u05E7\u05DF "),t(),e(36,"th",21),i(37," \u05E8\u05DE\u05D6 "),t(),e(38,"th",22)(39,"span",23),i(40,"\u05E4\u05E2\u05D5\u05DC\u05D5\u05EA"),t()()()(),e(41,"tbody",24),y(42,j,13,7,"tr",25),t()()(),y(43,z,4,0,"div",26)(44,H,2,0,"div",27),t()()()()()),a&2&&(m(11),p("ngModel",r.searchForm.gameNumber),m(4),p("ngModel",r.searchForm.date),m(4),p("ngModel",r.searchForm.playerName),m(23),d("ngForOf",r.games),m(),d("ngIf",r.searching),m(),d("ngIf",!r.searching&&r.games.length===0))},dependencies:[k,M,N,G,O,A,V,T,P,W,L],encapsulation:2})};export{R as GameSearchComponent};
