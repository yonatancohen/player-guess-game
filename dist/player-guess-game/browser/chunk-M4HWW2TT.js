import{b as It}from"./chunk-5XF2VKTD.js";import{E as Et,i as Tt,q as St,s as Dt,v as xt,y as Rt}from"./chunk-J5QQIEZR.js";import{c as pe,d as U,f as E,g as me,h as Z}from"./chunk-UISL6Y2D.js";import{$ as v,$b as ie,Ca as H,Cc as wt,Da as J,Db as p,Eb as m,Ec as ne,Fb as C,G as Ge,Gb as Ee,H as le,Ha as Je,Hb as Ie,Jb as te,Jc as yt,K as Se,Kb as lt,Lb as V,Lc as bt,Ma as et,Mb as g,N as K,Nb as ct,Ob as dt,Rb as ut,S as $e,Sb as ht,Tb as ft,U as Ye,V as De,Vb as D,W as ce,X as de,Xa as tt,Xb as B,Ya as ee,_ as qe,_a as c,a as _,aa as O,ab as it,ac as Oe,b as P,bb as nt,bc as pt,ca as b,cb as xe,db as st,ea as L,eb as T,ec as mt,fa as a,fc as gt,ga as Ke,gb as rt,h as He,ha as Qe,ia as Xe,j as Te,jb as A,kb as k,kc as _t,l as We,lb as M,lc as vt,m as f,mb as ot,na as ue,nb as Re,nc as Ct,o as Ue,oa as Q,ob as R,p as Ze,pa as X,s as I,tb as fe,u as oe,ua as j,ub as W,vb as h,vc as z,wb as F,x as ae,xb as at,ya as he,yb as S,za as x}from"./chunk-UX2FJVH3.js";var ge=class i{transform(s){return s&&decodeURI(JSON.parse('"'+s+'"'))}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=ot({name:"decodeuUri",type:i,pure:!0})};function se(i,s=0){return Kt(i)?Number(i):arguments.length===2?s:0}function Kt(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Ot(i){return i instanceof H?i.nativeElement:i}var Ae;try{Ae=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ae=!1}var _e=(()=>{class i{_platformId=a(Je);isBrowser=this._platformId?bt(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Ae)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Qt=new b("cdk-dir-doc",{providedIn:"root",factory:Xt});function Xt(){return a(z)}var Jt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ei(i){let s=i?.toLowerCase()||"";return s==="auto"&&typeof navigator<"u"&&navigator?.language?Jt.test(navigator.language)?"rtl":"ltr":s==="rtl"?"rtl":"ltr"}var At=(()=>{class i{value="ltr";change=new he;constructor(){let e=a(Qt,{optional:!0});if(e){let t=e.body?e.body.dir:null,n=e.documentElement?e.documentElement.dir:null;this.value=ei(t||n||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var w=function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i}(w||{}),ve,N;function kt(){if(N==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return N=!1,N;if("scrollBehavior"in document.documentElement.style)N=!0;else{let i=Element.prototype.scrollTo;i?N=!/\{\s*\[native code\]\s*\}/.test(i.toString()):N=!1}}return N}function $(){if(typeof document!="object"||!document)return w.NORMAL;if(ve==null){let i=document.createElement("div"),s=i.style;i.dir="rtl",s.width="1px",s.overflow="auto",s.visibility="hidden",s.pointerEvents="none",s.position="absolute";let e=document.createElement("div"),t=e.style;t.width="2px",t.height="1px",i.appendChild(e),document.body.appendChild(i),ve=w.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,ve=i.scrollLeft===0?w.NEGATED:w.INVERTED),i.remove()}return ve}var ke=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=k({type:i});static \u0275inj=O({})}return i})();var Ce=class{};function Mt(i){return i&&typeof i.connect=="function"&&!(i instanceof We)}var we=class extends Ce{_data;constructor(s){super(),this._data=s}connect(){return oe(this._data)?this._data:I(this._data)}disconnect(){}},re=function(i){return i[i.REPLACED=0]="REPLACED",i[i.INSERTED=1]="INSERTED",i[i.MOVED=2]="MOVED",i[i.REMOVED=3]="REMOVED",i}(re||{}),Me=new b("_ViewRepeater"),ye=class{viewCacheSize=20;_viewCache=[];applyChanges(s,e,t,n,r){s.forEachOperation((o,d,l)=>{let u,y;if(o.previousIndex==null){let q=()=>t(o,d,l);u=this._insertView(q,l,e,n(o)),y=u?re.INSERTED:re.REPLACED}else l==null?(this._detachAndCacheView(d,e),y=re.REMOVED):(u=this._moveView(d,l,e,n(o)),y=re.MOVED);r&&r({context:u?.context,operation:y,record:o})})}detach(){for(let s of this._viewCache)s.destroy();this._viewCache=[]}_insertView(s,e,t,n){let r=this._insertViewFromCache(e,t);if(r){r.context.$implicit=n;return}let o=s();return t.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(s,e){let t=e.detach(s);this._maybeCacheView(t,e)}_moveView(s,e,t,n){let r=t.get(s);return t.move(r,e),r.context.$implicit=n,r}_maybeCacheView(s,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(s);else{let t=e.indexOf(s);t===-1?s.destroy():e.remove(t)}}_insertViewFromCache(s,e){let t=this._viewCache.pop();return t&&e.insert(t,s),t||null}};var ti=["contentWrapper"],ii=["*"],zt=new b("VIRTUAL_SCROLL_STRATEGY"),Fe=class{_scrolledIndexChange=new f;scrolledIndexChange=this._scrolledIndexChange.pipe(K());_viewport=null;_itemSize;_minBufferPx;_maxBufferPx;constructor(s,e,t){this._itemSize=s,this._minBufferPx=e,this._maxBufferPx=t}attach(s){this._viewport=s,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(s,e,t){t<e,this._itemSize=s,this._minBufferPx=e,this._maxBufferPx=t,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(s,e){this._viewport&&this._viewport.scrollToOffset(s*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let s=this._viewport.getRenderedRange(),e={start:s.start,end:s.end},t=this._viewport.getViewportSize(),n=this._viewport.getDataLength(),r=this._viewport.measureScrollOffset(),o=this._itemSize>0?r/this._itemSize:0;if(e.end>n){let l=Math.ceil(t/this._itemSize),u=Math.max(0,Math.min(o,n-l));o!=u&&(o=u,r=u*this._itemSize,e.start=Math.floor(o)),e.end=Math.max(0,Math.min(n,e.start+l))}let d=r-e.start*this._itemSize;if(d<this._minBufferPx&&e.start!=0){let l=Math.ceil((this._maxBufferPx-d)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(n,Math.ceil(o+(t+this._minBufferPx)/this._itemSize))}else{let l=e.end*this._itemSize-(r+t);if(l<this._minBufferPx&&e.end!=n){let u=Math.ceil((this._maxBufferPx-l)/this._itemSize);u>0&&(e.end=Math.min(n,e.end+u),e.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(o))}};function ni(i){return i._scrollStrategy}var Nt=(()=>{class i{get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=se(e)}_itemSize=20;get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=se(e)}_minBufferPx=100;get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=se(e)}_maxBufferPx=200;_scrollStrategy=new Fe(this.itemSize,this.minBufferPx,this.maxBufferPx);ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=M({type:i,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[ie([{provide:zt,useFactory:ni,deps:[qe(()=>i)]}]),ue]})}return i})(),si=20,ri=(()=>{class i{_ngZone=a(x);_platform=a(_e);_renderer=a(xe).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new f;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=si){return this._platform.isBrowser?new Te(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let n=e>0?this._scrolled.pipe(le(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):I()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Ge(r=>!r||n.indexOf(r)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_scrollableContainsElement(e,t){let n=Ot(t),r=e.getElementRef().nativeElement;do if(n==r)return!0;while(n=n.parentElement);return!1}static \u0275fac=function(t){return new(t||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Pt=(()=>{class i{elementRef=a(H);scrollDispatcher=a(ri);ngZone=a(x);dir=a(At,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new f;_renderer=a(st);_cleanupScroll;_elementScrolled=new f;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let t=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=n?e.end:e.start),e.right==null&&(e.right=n?e.start:e.end),e.bottom!=null&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&$()!=w.NORMAL?(e.left!=null&&(e.right=t.scrollWidth-t.clientWidth-e.left),$()==w.INVERTED?e.left=e.right:$()==w.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let t=this.elementRef.nativeElement;kt()?t.scrollTo(e):(e.top!=null&&(t.scrollTop=e.top),e.left!=null&&(t.scrollLeft=e.left))}measureScrollOffset(e){let t="left",n="right",r=this.elementRef.nativeElement;if(e=="top")return r.scrollTop;if(e=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let o=this.dir&&this.dir.value=="rtl";return e=="start"?e=o?n:t:e=="end"&&(e=o?t:n),o&&$()==w.INVERTED?e==t?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:o&&$()==w.NEGATED?e==t?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==t?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static \u0275fac=function(t){return new(t||i)};static \u0275dir=M({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return i})(),oi=20,ai=(()=>{class i{_platform=a(_e);_listeners;_viewportSize;_change=new f;_document=a(z,{optional:!0});constructor(){let e=a(x),t=a(xe).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let n=r=>this._change.next(r);this._listeners=[t.listen("window","resize",n),t.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect(),o=-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,d=-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0;return{top:o,left:d}}change(e=oi){return e>0?this._change.pipe(le(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ft=new b("VIRTUAL_SCROLLABLE"),li=(()=>{class i extends Pt{constructor(){super()}measureViewportSize(e){let t=this.elementRef.nativeElement;return e==="horizontal"?t.clientWidth:t.clientHeight}static \u0275fac=function(t){return new(t||i)};static \u0275dir=M({type:i,features:[Re]})}return i})();function ci(i,s){return i.start==s.start&&i.end==s.end}var di=typeof requestAnimationFrame<"u"?Ze:Ue,Ve=(()=>{class i extends li{elementRef=a(H);_changeDetectorRef=a(_t);_scrollStrategy=a(zt,{optional:!0});scrollable=a(Ft,{optional:!0});_platform=a(_e);_detachedSubject=new f;_renderedRangeSubject=new f;get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}_orientation="vertical";appendOnly=!1;scrolledIndexChange=new Te(e=>this._scrollStrategy.scrolledIndexChange.subscribe(t=>Promise.resolve().then(()=>this.ngZone.run(()=>e.next(t)))));_contentWrapper;renderedRangeStream=this._renderedRangeSubject;_totalContentSize=0;_totalContentWidth="";_totalContentHeight="";_renderedContentTransform;_renderedRange={start:0,end:0};_dataLength=0;_viewportSize=0;_forOf;_renderedContentOffset=0;_renderedContentOffsetNeedsRewrite=!1;_isChangeDetectionPending=!1;_runAfterChangeDetection=[];_viewportChanges=He.EMPTY;_injector=a(j);_isDestroyed=!1;constructor(){super();let e=a(ai);this._scrollStrategy,this._viewportChanges=e.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(De(null),le(0,di),de(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(e){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(de(this._detachedSubject)).subscribe(t=>{let n=t.length;n!==this._dataLength&&(this._dataLength=n,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){ci(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,t="to-start"){e=this.appendOnly&&t==="to-start"?0:e;let n=this.dir&&this.dir.value=="rtl",r=this.orientation=="horizontal",o=r?"X":"Y",l=`translate${o}(${Number((r&&n?-1:1)*e)}px)`;this._renderedContentOffset=e,t==="to-end"&&(l+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,t="auto"){let n={behavior:t};this.orientation==="horizontal"?n.start=e:n.top=e,this.scrollable.scrollTo(n)}scrollToIndex(e,t="auto"){this._scrollStrategy.scrollToIndex(e,t)}measureScrollOffset(e){let t;return this.scrollable==this?t=n=>super.measureScrollOffset(n):t=n=>this.scrollable.measureScrollOffset(n),Math.max(0,t(e??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let t,n="left",r="right",o=this.dir?.value=="rtl";e=="start"?t=o?r:n:e=="end"?t=o?n:r:e?t=e:t=this.orientation==="horizontal"?"left":"top";let d=this.scrollable.measureBoundingClientRectWithScrollOffset(t);return this.elementRef.nativeElement.getBoundingClientRect()[t]-d}measureRenderedContentSize(){let e=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,et(()=>{this._isChangeDetectionPending=!1;let e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let t of e)t()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=A({type:i,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,n){if(t&1&&ut(ti,7),t&2){let r;ht(r=ft())&&(n._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,n){t&2&&at("cdk-virtual-scroll-orientation-horizontal",n.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",n.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",Ct]},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[ie([{provide:Pt,useFactory:(e,t)=>e||t,deps:[[new Qe,new Ke(Ft)],i]}]),Re],ngContentSelectors:ii,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(t,n){t&1&&(ct(),p(0,"div",1,0),dt(2),m(),C(3,"div",2)),t&2&&(c(3),F("width",n._totalContentWidth)("height",n._totalContentHeight))},styles:[`cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}
`],encapsulation:2,changeDetection:0})}return i})();function Vt(i,s,e){let t=e;if(!t.getBoundingClientRect)return 0;let n=t.getBoundingClientRect();return i==="horizontal"?s==="start"?n.left:n.right:s==="start"?n.top:n.bottom}var Lt=(()=>{class i{_viewContainerRef=a(rt);_template=a(it);_differs=a(vt);_viewRepeater=a(Me);_viewport=a(Ve,{skipSelf:!0});viewChange=new f;_dataSourceChanges=new f;get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,Mt(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new we(oe(e)?e:Array.from(e||[])))}_cdkVirtualForOf;get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(t,n)=>e(t+(this._renderedRange?this._renderedRange.start:0),n):void 0}_cdkVirtualForTrackBy;set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=se(e)}dataStream=this._dataSourceChanges.pipe(De(null),$e(),ce(([e,t])=>this._changeDataSource(e,t)),Ye(1));_differ=null;_data;_renderedItems;_renderedRange;_needsUpdate=!1;_destroyed=new f;constructor(){let e=a(x);this.dataStream.subscribe(t=>{this._data=t,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(de(this._destroyed)).subscribe(t=>{this._renderedRange=t,this.viewChange.observers.length&&e.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(e,t){if(e.start>=e.end)return 0;e.start<this._renderedRange.start||e.end>this._renderedRange.end;let n=e.start-this._renderedRange.start,r=e.end-e.start,o,d;for(let l=0;l<r;l++){let u=this._viewContainerRef.get(l+n);if(u&&u.rootNodes.length){o=d=u.rootNodes[0];break}}for(let l=r-1;l>-1;l--){let u=this._viewContainerRef.get(l+n);if(u&&u.rootNodes.length){d=u.rootNodes[u.rootNodes.length-1];break}}return o&&d?Vt(t,"end",d)-Vt(t,"start",o):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,t)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,t):t)),this._needsUpdate=!0)}_changeDataSource(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):I()}_updateContext(){let e=this._data.length,t=this._viewContainerRef.length;for(;t--;){let n=this._viewContainerRef.get(t);n.context.index=this._renderedRange.start+t,n.context.count=e,this._updateComputedContextProperties(n.context),n.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(r,o,d)=>this._getEmbeddedViewArgs(r,d),r=>r.item),e.forEachIdentityChange(r=>{let o=this._viewContainerRef.get(r.currentIndex);o.context.$implicit=r.item});let t=this._data.length,n=this._viewContainerRef.length;for(;n--;){let r=this._viewContainerRef.get(n);r.context.index=this._renderedRange.start+n,r.context.count=t,this._updateComputedContextProperties(r.context)}}_updateComputedContextProperties(e){e.first=e.index===0,e.last=e.index===e.count-1,e.even=e.index%2===0,e.odd=!e.even}_getEmbeddedViewArgs(e,t){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:t}}static ngTemplateContextGuard(e,t){return!0}static \u0275fac=function(t){return new(t||i)};static \u0275dir=M({type:i,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[ie([{provide:Me,useClass:ye}])]})}return i})();var Bt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=k({type:i});static \u0275inj=O({})}return i})(),jt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=k({type:i});static \u0275inj=O({imports:[ke,Bt,ke,Bt]})}return i})();var hi=(i,s)=>({"rounded-xl":i,"rounded-t-xl border-b-0":s}),fi=i=>({"border-b-2 border-blue-800":i}),pi=i=>({"border-b":i});function mi(i,s){if(i&1){let e=te();p(0,"div",9),V("click",function(){let n=Q(e).$implicit,r=g(2);return X(r.select(n))}),C(1,"span",10),mt(2,"decodeuUri"),m()}if(i&2){let e=s.$implicit,t=s.last;h("ngClass",Oe(4,pi,!t)),c(),h("innerHTML",gt(2,2,e.name),ee)}}function gi(i,s){if(i&1&&(p(0,"div",6)(1,"cdk-virtual-scroll-viewport",7),R(2,mi,3,6,"div",8),m()()),i&2){let e=g();h("@listAnimation",void 0),c(2),h("cdkVirtualForOf",e.filtered)("cdkVirtualForTrackBy",e.trackByPlayer)}}var Ht=class i{constructor(s){this.adminService=s}players;selected=new he;gameCompleted=!1;showSelectedText=!1;isSearchMode=!1;searchControl=new xt("");filtered=[];subscription;ngOnInit(){this.isSearchMode?this.subscription=this.searchControl.valueChanges.pipe(Se(300),ae(s=>s?s.toLowerCase().trim():""),K(),ce(s=>s.length?this.adminService.searchPlayers(s):I([]))).subscribe(s=>{this.filtered=s.sort((e,t)=>e.name.localeCompare(t.name))}):this.subscription=this.searchControl.valueChanges.pipe(Se(700),ae(s=>s?s.toLowerCase().trim():""),K(),ae(s=>this.players?s.length?this.players.filter(e=>e.name.toLowerCase().includes(s)):[]:[])).subscribe(s=>{this.filtered=s.sort((e,t)=>e.name.localeCompare(t.name))})}ngOnDestroy(){this.subscription.unsubscribe()}ngOnChanges(s){s.gameCompleted&&(s.gameCompleted.currentValue?this.searchControl.disable():this.searchControl.enable())}select(s){this.searchControl.setValue(""),this.showSelectedText&&this.searchControl.setValue(s.name,{emitEvent:!1}),this.filtered=[],this.selected.emit(s)}resetSelection(){this.searchControl.setValue(""),this.selected.emit(null)}trackByPlayer(s,e){return e.id}static \u0275fac=function(e){return new(e||i)(T(It))};static \u0275cmp=A({type:i,selectors:[["app-autocomplete"]],inputs:{players:"players",gameCompleted:"gameCompleted",showSelectedText:"showSelectedText",isSearchMode:"isSearchMode"},outputs:{selected:"selected"},features:[ue],decls:6,vars:9,consts:[[1,"relative","w-full"],[1,"flex","items-center","border","border-[#020B57]","overflow-hidden","relative","bg-[#FAFAFA57]",3,"ngClass"],[1,"flex","items-center","justify-center","w-10","h-10","absolute","left-2","rounded-xl"],["alt","bullet","src","images/bullet.svg","loading","lazy"],["type","text","placeholder","\u05DE\u05D9 \u05D4\u05E9\u05D7\u05E7\u05DF?",1,"flex-1","mx-2","p-2","text-right","focus:outline-none","placeholder-[#4D4D4D]","h-[60px]",3,"formControl","ngClass"],["class","border border-[#020B57] border-t-0 rounded-b-xl bg-[#FAFAFA57] overflow-auto absolute w-full z-2",4,"ngIf"],[1,"border","border-[#020B57]","border-t-0","rounded-b-xl","bg-[#FAFAFA57]","overflow-auto","absolute","w-full","z-2"],["itemSize","41"],["class","ps-4 pe-2 py-2 text-right cursor-pointer border-[#E6E6E6] hover:bg-[#FAFAFA94]",3,"ngClass","click",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"ps-4","pe-2","py-2","text-right","cursor-pointer","border-[#E6E6E6]","hover:bg-[#FAFAFA94]",3,"click","ngClass"],[3,"innerHTML"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2),C(3,"img",3),m(),C(4,"input",4),m(),R(5,gi,3,3,"div",5),m()),e&2&&(c(),h("ngClass",pt(4,hi,!t.filtered.length,t.filtered.length)),c(3),h("formControl",t.searchControl)("ngClass",Oe(7,fi,t.filtered.length)),c(),h("ngIf",t.filtered.length))},dependencies:[yt,wt,ne,Et,St,Dt,Rt,ge,jt,Nt,Lt,Ve],styles:[".cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:300px;width:100%;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}[_nghost-%COMP%]{display:contents}"],data:{animation:[pe("listAnimation",[Z(":enter",[E({opacity:0,maxHeight:"0px"}),U("300ms ease-out",E({opacity:1,maxHeight:"500px"}))]),Z(":leave",[U("300ms ease-in",E({opacity:0,maxHeight:"0px"}))])])]}})};var Wt=["toast-component",""];function _i(i,s){if(i&1){let e=te();p(0,"button",5),V("click",function(){Q(e);let n=g();return X(n.remove())}),p(1,"span",6),D(2,"\xD7"),m()()}}function vi(i,s){if(i&1&&(Ee(0),D(1),Ie()),i&2){let e=g(2);c(),B("[",e.duplicatesCount+1,"]")}}function Ci(i,s){if(i&1&&(p(0,"div"),D(1),R(2,vi,2,1,"ng-container",4),m()),i&2){let e=g();S(e.options.titleClass),W("aria-label",e.title),c(),B(" ",e.title," "),c(),h("ngIf",e.duplicatesCount)}}function wi(i,s){if(i&1&&C(0,"div",7),i&2){let e=g();S(e.options.messageClass),h("innerHTML",e.message,ee)}}function yi(i,s){if(i&1&&(p(0,"div",8),D(1),m()),i&2){let e=g();S(e.options.messageClass),W("aria-label",e.message),c(),B(" ",e.message," ")}}function bi(i,s){if(i&1&&(p(0,"div"),C(1,"div",9),m()),i&2){let e=g();c(),F("width",e.width()+"%")}}function Ti(i,s){if(i&1){let e=te();p(0,"button",5),V("click",function(){Q(e);let n=g();return X(n.remove())}),p(1,"span",6),D(2,"\xD7"),m()()}}function Si(i,s){if(i&1&&(Ee(0),D(1),Ie()),i&2){let e=g(2);c(),B("[",e.duplicatesCount+1,"]")}}function Di(i,s){if(i&1&&(p(0,"div"),D(1),R(2,Si,2,1,"ng-container",4),m()),i&2){let e=g();S(e.options.titleClass),W("aria-label",e.title),c(),B(" ",e.title," "),c(),h("ngIf",e.duplicatesCount)}}function xi(i,s){if(i&1&&C(0,"div",7),i&2){let e=g();S(e.options.messageClass),h("innerHTML",e.message,ee)}}function Ri(i,s){if(i&1&&(p(0,"div",8),D(1),m()),i&2){let e=g();S(e.options.messageClass),W("aria-label",e.message),c(),B(" ",e.message," ")}}function Ei(i,s){if(i&1&&(p(0,"div"),C(1,"div",9),m()),i&2){let e=g();c(),F("width",e.width()+"%")}}var Be=class{_attachedHost;component;viewContainerRef;injector;constructor(s,e){this.component=s,this.injector=e}attach(s,e){return this._attachedHost=s,s.attach(this,e)}detach(){let s=this._attachedHost;if(s)return this._attachedHost=void 0,s.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(s){this._attachedHost=s}},ze=class{_attachedPortal;_disposeFn;attach(s,e){return this._attachedPortal=s,this.attachComponentPortal(s,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(s){this._disposeFn=s}},Ne=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new f;_activate=new f;_manualClose=new f;_resetTimeout=new f;_countDuplicate=new f;constructor(s){this._overlayRef=s}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(s,e){s&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},Y=class{toastId;config;message;title;toastType;toastRef;_onTap=new f;_onAction=new f;constructor(s,e,t,n,r,o){this.toastId=s,this.config=e,this.message=t,this.title=n,this.toastType=r,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(s){this._onAction.next(s)}onAction(){return this._onAction.asObservable()}},Ut={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Zt=new b("ToastConfig"),Pe=class extends ze{_hostDomElement;_componentFactoryResolver;_appRef;constructor(s,e,t){super(),this._hostDomElement=s,this._componentFactoryResolver=e,this._appRef=t}attachComponentPortal(s,e){let t=this._componentFactoryResolver.resolveComponentFactory(s.component),n;return n=t.create(s.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}_getComponentRootNode(s){return s.hostView.rootNodes[0]}},Ii=(()=>{class i{_document=a(z);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(t){return new(t||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Le=class{_portalHost;constructor(s){this._portalHost=s}attach(s,e=!0){return this._portalHost.attach(s,e)}detach(){return this._portalHost.detach()}},Oi=(()=>{class i{_overlayContainer=a(Ii);_componentFactoryResolver=a(nt);_appRef=a(fe);_document=a(z);_paneElements=new Map;create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){let n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new Pe(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Le(this._createPortalHost(e))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Gt=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,t,n,r,o){this.overlay=t,this._injector=n,this.sanitizer=r,this.ngZone=o,this.toastrConfig=_(_({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=_(_({},e.default.iconClasses),e.config.iconClasses))}show(e,t,n={},r=""){return this._preBuildNotification(r,e,t,this.applyConfig(n))}success(e,t,n={}){let r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}error(e,t,n={}){let r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}info(e,t,n={}){let r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}warning(e,t,n={}){let r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}clear(e){for(let t of this.toasts)if(e!==void 0){if(t.toastId===e){t.toastRef.manualClose();return}}else t.toastRef.manualClose()}remove(e){let t=this._findToast(e);if(!t||(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}findDuplicate(e="",t="",n,r){let{includeTitleDuplicates:o}=this.toastrConfig;for(let d of this.toasts){let l=o&&d.title===e;if((!o||l)&&d.message===t)return d.toastRef.onDuplicate(n,r),d}return null}applyConfig(e={}){return _(_({},this.toastrConfig),e)}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,n,r)):this._buildNotification(e,t,n,r)}_buildNotification(e,t,n,r){if(!r.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=t;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let u=t;t&&r.enableHtml&&(u=this.sanitizer.sanitize(tt.HTML,t));let y=new Ne(l),q=new Y(this.index,r,u,n,e,y),$t=[{provide:Y,useValue:q}],Yt=j.create({providers:$t,parent:this._injector}),qt=new Be(r.toastComponent,Yt),je=l.attach(qt,r.newestOnTop);y.componentInstance=je.instance;let be={toastId:this.index,title:n||"",message:t||"",toastRef:y,onShown:y.afterActivate(),onHidden:y.afterClosed(),onTap:q.onTap(),onAction:q.onAction(),portal:je};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{be.toastRef.activate()})),this.toasts.push(be),be}static \u0275fac=function(t){return new(t||i)(L(Zt),L(Oi),L(j),L(Tt),L(x))};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ai=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=J(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.ngZone=n,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r}),this.state=J({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>P(_({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>P(_({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>P(_({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(t){return new(t||i)(T(Gt),T(Y),T(x))};static \u0275cmp=A({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,n){t&1&&V("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),t&2&&(lt("@flyInOut",n._state),S(n.toastClasses),F("display",n.displayStyle))},attrs:Wt,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,n){t&1&&R(0,_i,3,0,"button",0)(1,Ci,3,5,"div",1)(2,wi,1,3,"div",2)(3,yi,2,4,"div",3)(4,bi,2,2,"div",4),t&2&&(h("ngIf",n.options.closeButton),c(),h("ngIf",n.title),c(),h("ngIf",n.message&&n.options.enableHtml),c(),h("ngIf",n.message&&!n.options.enableHtml),c(),h("ngIf",n.options.progressBar))},dependencies:[ne],encapsulation:2,data:{animation:[pe("flyInOut",[me("inactive",E({opacity:0})),me("active",E({opacity:1})),me("removed",E({opacity:0})),Z("inactive => active",U("{{ easeTime }}ms {{ easing }}")),Z("active => removed",U("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return i})(),ki=P(_({},Ut),{toastComponent:Ai}),Mi=(i={})=>Xe([{provide:Zt,useValue:{default:ki,config:i}}]),ts=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[Mi(e)]}}static \u0275fac=function(t){return new(t||i)};static \u0275mod=k({type:i});static \u0275inj=O({})}return i})();var Fi=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=J(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=J("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.appRef=n,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(n=>100-n),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(t){return new(t||i)(T(Gt),T(Y),T(fe))};static \u0275cmp=A({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,n){t&1&&V("click",function(){return n.tapToast()})("mouseenter",function(){return n.stickAround()})("mouseleave",function(){return n.delayedHideToast()}),t&2&&(S(n.toastClasses),F("display",n.displayStyle))},attrs:Wt,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,n){t&1&&R(0,Ti,3,0,"button",0)(1,Di,3,5,"div",1)(2,xi,1,3,"div",2)(3,Ri,2,4,"div",3)(4,Ei,2,2,"div",4),t&2&&(h("ngIf",n.options.closeButton),c(),h("ngIf",n.title),c(),h("ngIf",n.message&&n.options.enableHtml),c(),h("ngIf",n.message&&!n.options.enableHtml),c(),h("ngIf",n.options.progressBar))},dependencies:[ne],encapsulation:2,changeDetection:0})}return i})(),is=P(_({},Ut),{toastComponent:Fi});export{ge as a,Ht as b,Gt as c,ts as d};
